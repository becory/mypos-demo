(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-864e9f0e"],{"1cc0":function(e,t,a){"use strict";a("8b94")},"8b94":function(e,t,a){},c889:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container components-container"},[a("h2",[e._v("單位")]),a("TableView",{ref:"main",staticClass:"table",attrs:{data:e.data,"column-options":e.columnOptions,form:e.formBody,"table-options":{isCanSelection:!0},rules:e.rules,loading:e.loading[0],page:e.page[0],"page-size":e.pageSize[0]},on:{search:e.getDataset,refresh:e.getDataset,delete:e.deleteDataset,create:e.createDataset,edit:e.editDataset,"select-row":e.onSelectRow}})],1)},c=[],i=(a("d3b7"),a("4ec3")),r=a("0253"),o=a("6464"),s={name:"Unit",components:{TableView:r["a"]},data:function(){return{loading:[!1],page:[1],pageSize:[10],data:[],selectRow:{}}},computed:{columnOptions:function(){return[{label:"單位名稱",field:"name"},{label:"單位符號",field:"sign"}]},formBody:function(){return[{label:"單位名稱",field:"name",type:"text",inputType:"el-input"},{label:"單位符號",field:"sign",type:"text",inputType:"el-input"}]},rules:function(){return{name:[{required:!0,message:"必填欄位",trigger:"blur"}],sign:[{required:!0,message:"必填欄位",trigger:"blur"}]}}},mounted:function(){this.getDataset()},methods:{getColumnOptions:function(){var e=this;Object(i["J"])("?columns=true").then((function(t){e.columnOptions=t.data})).catch((function(e){Object(o["a"])("error","Error",e,!1)}))},getDataset:function(e){var t=this;this.$set(this.loading,0,!0);var a="?page="+this.page[0]+"&page_size="+this.pageSize[0];e&&(a+="&search="+e),Object(i["J"])(a).then((function(e){t.data=e.data})).catch((function(e){Object(o["a"])("error","Error",e,!1)})).finally((function(){t.$set(t.loading,0,!1)}))},getFormBody:function(){var e=this;Object(i["I"])().then((function(t){e.formBody=t.data})).catch((function(e){Object(o["a"])("error","Error",e,!1)}))},deleteDataset:function(e){Object(i["n"])(e.id).then((function(e){Object(o["a"])("success","Delete Success",e.data,!1)})).catch((function(e){Object(o["a"])("error","Error",e,!1)}))},createDataset:function(e){var t=this;Object(i["X"])(e).then((function(e){Object(o["a"])("success","Create Success",e.data,!1),t.$refs["main"].createDialog=!1,t.$refs["main"].formBody={},t.$refs["main"].editItem={},t.getDataset()})).catch((function(e){Object(o["a"])("error","Error",e,!1)}))},editDataset:function(e){var t=this;Object(i["kb"])(e.id,e.data).then((function(e){Object(o["a"])("success","Edit Success",e.data,!1),t.$refs["main"].createDialog=!1,t.$refs["main"].formBody={},t.$refs["main"].editItem={},t.getDataset()})).catch((function(e){Object(o["a"])("error","Error",e,!1)}))},onSelectRow:function(e){this.selectRow=e}}},u=s,l=(a("1cc0"),a("2877")),d=Object(l["a"])(u,n,c,!1,null,null,null);t["default"]=d.exports}}]);